技术需求文档 (TRD)1. 项目概述本项目旨在开发一款跨平台 (macOS/Windows) 的桌面级会议辅助工具。核心目标是通过系统级音频捕获，结合轻量级语音识别与高性能大语言模型，在极低系统资源占用下，为用户提供实时的外语翻译和基于预设上下文的智能回答提示。2. 技术栈选型核心框架：Tauri v2 (极低内存占用，原生系统集成)底层语言：Rust (负责音频流捕获、系统权限申请、轻量级本地 AI 推理调度)前端 UI：React 18 + TypeScript + Vite (推荐 React 是因为其 AI 组件库生态最丰富)UI 组件库：Tailwind CSS + shadcn/ui (轻松实现极简、现代的毛玻璃和暗色模式等高级审美)3. 核心系统架构Audio Engine (Rust 层)：使用 cpal 库监听系统扬声器 (Loopback) 和麦克风。集成 VAD (静音检测) 过滤无效音频。Bridge (Tauri IPC)：通过 Tauri 的事件系统，将处理好的音频流或初步识别的文本高频推送到前端。AI Pipeline (分层处理)：前端/本地：调用轻量级 API（如 Groq 的 Whisper 接口或本地 ONNX 模型）进行 ASR (语音转文字) 和 Diarization (声纹分离/讲述者区分)。云端大模型：识别到提问意图后，携带着前置 Context 请求高性能 API (如 Gemini 1.5 Pro / Claude 3.5 Sonnet) 进行流式回答生成。4. 功能需求详细说明功能模块需求描述技术实现建议4.1 预设上下文管理会议前，用户可创建“会议档案”，输入会议性质（如：学术面试、技术评审）、领域、语言、自我介绍或预备材料。前端表单 + 本地 SQLite/JSON 存储。支持拖拽上传 PDF/TXT 并提取文本作为 System Prompt。4.2 实时音频捕获获取当前系统的输出音频和麦克风输入音频。Windows 使用 WASAPI Loopback；macOS 考虑接入 ScreenCaptureKit 或提示用户安装虚拟声卡。4.3 角色分离与翻译实时将英文语音转写为文本，区分“我”和“其他参会者”，并实时输出中文翻译。使用带有 Speaker Diarization 功能的 API (例如 Deepgram API 速度极快且支持声纹)。4.4 智能提示引擎监听转写文本，一旦检测到对方提出问题（或等待回应的停顿），自动结合“预设上下文”生成回答建议。监听文本流中的问号、疑问词或语气停顿。触发大模型 API，UI 层采用 Markdown 流式渲染 (Streaming) 显示提示。4.5 沉浸式 UI 交互界面需支持“悬浮提词器”模式：置顶悬浮、透明度可调、无边框、鼠标穿透。Tauri 的 alwaysOnTop, transparent 窗口属性配置。
